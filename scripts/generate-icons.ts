const sharp = require('sharp')
const fs = require('fs/promises')
const path = require('path')

const SVG_CONTENT = `<svg viewBox="0 0 239.25 371.04" xmlns="http://www.w3.org/2000/svg">
  <g transform="translate(-120.61 -55.71)">
    <path 
      d="m241.44 426.52c-3.58.83-7-.87-10.51-1.53a95.91 95.91 0 0 1-18.22-4.99c-10.1-4-18.64-10.3-26.34-17.82-5.3-5.18-10.43-10.51-14.35-16.86a56.58 56.58 0 0 1-8.22-23.94c-.64-5.95-.64-12-1.05-17.94-.31-4.54-.55-9.11-1.29-13.59a25 25 0 0 0-9.64-15.67 130.78 130.78 0 0 1-20.65-20.49 47.27 47.27 0 0 1-10.17-25.02c-.82-7.42-.13-14.76.88-22.1 1.05-7.59 2.16-15.17 3.28-22.76s2.24-15.16 3.4-22.74q2.08-13.74 4.23-27.46c1.73-10.92 3.58-21.83 5.23-32.76 2.66-17.64 7.12-34.88 11.61-52.11 1.23-4.76 2.57-9.5 5.11-13.78 1.49-2.51 3-5.08 5.63-6.56 5.32-3 10.5-2.2 15.42.93a42 42 0 0 1 12.11 12.31c7.75 11.5 15.4 23.07 23.1 34.61 3.08 4.62 6.12 9.28 9.34 13.81a35.29 35.29 0 0 0 10.44 9.77 16.4 16.4 0 0 0 21.06-3c4.55-4.9 8-10.56 11.69-16.09 11.32-17.1 22.58-34.24 33.94-51.31 2.54-3.81 5-7.77 8.66-10.67a12.56 12.56 0 0 1 12.95-2.18c2.62 1 4 3.24 5.35 5.58 4 7 5 14.78 6.19 22.5 1.8 11.72 3.44 23.46 5 35.21 1.54 11.36 2.91 22.74 4.4 34.1 1.3 9.86 2.7 19.7 4 29.55.55 4.2.9 8.42 1.48 12.62a118.17 118.17 0 0 0 4.65 19.54 199.42 199.42 0 0 1 7.35 31.45 55.94 55.94 0 0 0 1.58 7.24c1.43 5 .69 9.73-1.24 14.38a73.47 73.47 0 0 1-13.84 21.61q-10.75 11.64-21.73 23.07c-4.56 4.77-8.11 10.06-9.45 16.64a49.25 49.25 0 0 0-.53 14.79c.94 10 1.44 19.93-1 29.8-3.63 14.89-12.07 26.48-24.27 35.45a81.44 81.44 0 0 1-32.02 14.16 33.52 33.52 0 0 0-4.06 1 20 20 0 0 1-9.5 1.25z"
      fill="black"
      stroke="white"
      stroke-width="2"
    />
  </g>
</svg>`

async function generateIcons() {
  // Ensure the icons directory exists
  const iconsDir = path.join(process.cwd(), 'public', 'icons')
  await fs.mkdir(iconsDir, { recursive: true })

  // Define icon sizes
  const sizes = [192, 512]

  // Generate each size
  for (const size of sizes) {
    await sharp(Buffer.from(SVG_CONTENT))
      .resize(size, size, {
        fit: 'contain',
        background: 'transparent'
      })
      .png()
      .toFile(path.join(iconsDir, `icon-${size}x${size}.png`))
  }

  console.log('Icons generated successfully!')
}

generateIcons().catch(console.error) 